```
ALB 
NLB
GLB
Sticky Sessions(Session Affinity)
SSL/TLS
```

# Scalability - can handle greater loads by adapting
## vertical scalability
- (UP)increasing "size" of instance eg) t2.micro -> m2.large
- common for non distributed systems -> DB
- RDS, ElastiCache..
- hardware limit
- scale up / down

## horizontal scalability(Elasticity
- increasing "number" of instance eg) 1 * t2.micro -> 2 * t2.micro
- disbributed systems
- wep application/ modern application
- EC2...
- scale out(+) / in(-)

# High Availability
- hand in had with horizontal scaling
- means running apps/systems at least 2 data centers( == AZ)
- to survice a data center loss
- passive -> RDS multi AZ
- active -> Horizontal scaling

# ELB
- health check
- 4types of LB
  1. Classic CLB - depreciated
  2. Application ALB
  3. Networt NLB
  4. Gateway GLB

## ALB
client -> ALB -> Target Group(1.EC2 2.EC2) -> ec2 Security Group -> allow alb in inbound rule
- layer 7(Http)
- routing
- great fit for MS or container-based app(ECS)
- target groups


## NLB(layer 4)
- TCP & UDP traffics
- milions of requests per seconds
- ultra-low latency
- "One static IP per AZ" 
- supports assigning Elastic IP
- health check -> TCP, HTTP, HTTPS

## GLB(Layer 3)
- firewalls, intrusion, ... payload manipulation..
- client -> GLB -> target Group -> GLB -> Application
- GENEVE protocol port 6081

# Sticky Sessions(Session Affinity)
- remember client1 connects to #1 EC2 and all requests go to #1EC2.
- Cookie used for stickiness has an expiration date
- Make sure the user doesn't lose his session data like login
- Causion : imbalance to the load over the backend EC2

## Sticky Sessions - Cookie Names
1. Application-based Cookie
- custom cookie : generated by target, unique name for each target group, NOT AWSALB...
- application cookie : generated by LB, cookie name is AWSALBAPP

3. Duration-based Cookie
- generated by LB
- name is AWSALB for ALB, AWSELB for CLB

# Cross-Zone Load Balancing
- each load balancer instance distributes **evenly** across all registered instances in all AZ
- #1 ALB(2-EC2) 50% , #2 ALB(8-EC2) 50%
- but **10 EC2 gets 10% EVENLY**

# Without Cross-Zone
- #1 ALB(2-EC2) 50% , #2 ALB(8-EC2) 50%
- 2-EC2 25% in #1 ALB and 8-EC2 6.25% in #2 ALB

# Cross-zone load balancing with ELB
1. ALB - enabled by default, no charges for inter AZ data
2. NLB - disabled by default, pay charges
3. CLB - disabled by default, no charges

# SSL(Secure Sockets Layer) / TLS(Transport Layer Security)
- SSL Certificate allows traffic between Clients and LB to be encrypted in transit
- used to encrypt connections
- TLS is newer version of SSL
- SSL certi has expiration date, and must be renewed!
- user ---https-> LB ---http over private vpc-> EC2
- ACM( Aws Certificate Manager)

## SNI(Server Name Indication) - important !
- solve the problem of loading multiple SSL onto one web server
- Not working with CLB


# ELB with SSL
V1: CLB -> only one ssl, multiple CLB for multiple hostname with multiple ssl
V2: ALB -> support multiple listeners with multiple SSL, use SNI
V2: NLB -> support multiple listeners with multiple SSL, use SNi



















