# EC2 - Elastic Compute Cloud = infrastructure as a service (IAAS)

# main consist in the capability
1. EC2
2. EBS - Elastic Block Store
3. ELB - Elastic Load Balancing
4. ASG - Auto Scailing group

# what we can choose
- OS: Linux, windows, macOS
- CPU
- RAM
- Storage space: EBS, EFS
- Network card
- Firewall rules
- User Data: Bootstrap script(first start)

# Types
- naming convention: m5.2xlarge
-- m: instance class
-- 5: generation
-- 2xlarge: size
## General types
## Compute Optimized 
- start instance type with C 
- deploy a High-Performance Computing (HPC) application on EC2 instance
## Memory Optimized 
- start instance type with R(ram)
- a critical application that uses an in-memory database
## Storage Optimized 
- start instance type with I, D, H1
- its database has thousands of requests per second. You want to migrate the database to an EC2 instance. Which EC2 Instance Type should you choose to handle this high-frequency OLTP database


# Security Groups
- What should you use to control traffic in and out of EC2 instances?
- acting as "Firewall"
- by IP or by security group
- live "outside" of the ec2
- timeout -> security group issue~
- all inbound traffic is blocked by default
- all outbound traffic is authorized by default

# ports
- 22 = SSH(Secure Shell) - log into a linux instance
- 21 = FTP
- 22 = SFTP
- 80 = HTTP
- 443 = HTTPS
- 3389 = RDP(Remote Desktop Protocol) - log into a Window Instance

# SSH into ec2 instance from Linux/MacOS
ssh -i MyFirstInstance.pem ec2-user@public-ipv4-address

# security -> iam role attached

# Purchasing option
- on-demand: short-term and un-interrupted workloads
- reserved: 72% discount compared to on-demand, 1year or 3years, plan to run on a server continuously for 1 year
- savings plans: commit to a certain type of usage-$10/hr for 1~3 years
- spot instances - less reliable, discount up to 90%, most cost-efficient
- dedicated hosts - Your company has strict compliance requirements that require your applications to run on dedicated servers. You also need to use your own server-bound software license to reduce costs, deploy a database technology on an EC2 instance and the vendor license bills you based on the physical cores and underlying network socket visibility 
- dedicated instances
- capacity reservation

# spot fleet
-Which EC2 Purchasing Option can provide you the biggest discount, but it is not suitable for critical jobs or databases
- a set of spot instances and optionally on-demand instances, it allows you to automatically request Spot instances with the lowest price